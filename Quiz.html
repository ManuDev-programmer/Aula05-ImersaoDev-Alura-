<!DOCTYPE html>
<html>

<head>
  <title>Quiz</title>

  <style>
    body {
      background: url("https://i.postimg.cc/TY28jTqJ/bg4-ia.jpg") no-repeat center center fixed;
      background-size: cover;
      font-family: "Gabarito", sans-serif;
      margin: 20px;
    }

    .logo {
      text-align: end;
    }

    .logo img {
      width: 40%;
    }

    .conteudo-jogo {
      background: rgba(0, 0, 0, 0.7);
      box-shadow: 0 0 5px #ff1b7b;
      margin: 30px;
      padding: 20px;
      height: 50vh;
      display: flex;
      justify-content: center;
      margin-top: 2rem;
    }

    .conteudo-jogo:hover {
      background: rgba(0, 0, 0);
      box-shadow: 0 0 5px #19caca;
    }

    h2,
    p {
      color: white;
    }

    .questionario {
      display: flex;
      justify-content: space-evenly;
      flex-direction: column;
      width: 70%;
      max-width: 70%;
    }

    .conteudo {
      display: flex;
      flex-direction: column;
      justify-content: space-evenly;
      height: 100%;
      gap: 20px;
    }

    .pergunta {
      font-weight: 600;
      color: white;
    }

    .progresso {
      text-align: end;
      font-size: small;
      font-weight: 500;
      color: white;
    }

    .respostas {
      display: flex;
      flex-direction: column;
      gap: 5px;
    }

    .botao-resposta {
      width: 100%;
      height: 2.5rem;
      text-align: start;
      padding: 5px;
      border: none;
      cursor: pointer;
      background: #ff1b7b;
      color: white;
    }

    .botao-resposta:hover {
      background: #19caca;
      font-weight: 600;
    }

    .fim {
      display: none;
      flex-direction: column;
      align-items: center;
      gap: 10px;
    }

    .fim span {
      margin-bottom: 2rem;
      text-align: center;
      font-weight: 600;
      color: white;
    }
  </style>
</head>

<body>

  <div class="logo">
    <img src="https://i.postimg.cc/GpCxYmvc/title.png" alt="Logo da divImersão Dev" />
  </div>

  <div class="titulo">
    <h2>Perguntas Finais</h2>
  </div>

  <div class="conteudo-jogo">
    <section class="questionario">
      <div class="conteudo">
        <span class="progresso"></span>
        <span class="pergunta"></span>
        <div class="respostas"></div>
      </div>

      <div class="fim">
        <span></span>

      </div>
    </section>
  </div>

  <script>
    // PARTE 1: Lista de perguntas e respostas
    perguntas = [{
      pergunta: "Qual é o seu nome?",
      respostas: [{
        opcao: "Emanuela",
        correto: true
      }, {
        opcao: "Maria",
        correto: false
      }, {
        opcao: "Ava",
        correto: false
      }]
    }];

    // PARTE 2: Pegando os elementos do HTML
    const perguntaElemento = document.querySelector(".pergunta");
    const respostasElemento = document.querySelector(".respostas");
    const progressoElemento = document.querySelector(".progresso");
    const textoFinal = document.querySelector(".fim span");
    const conteudo = document.querySelector(".conteudo");
    const conteudoFinal = document.querySelector(".fim");

    // PARTE 3: Variáveis para controle do jogo
    let indiceAtual = 0; // Índice da pergunta atual
    let acertos = 0; // Contador de acertos

    // PARTE 4: Função para carregar uma nova pergunta
    function carregarPergunta() {
      progressoElemento.innerHTML = `${indiceAtual + 1}/${perguntas.length}`; // Atualiza o progresso
      const perguntaAtual = perguntas[indiceAtual]; // Pega a pergunta atual
      perguntaElemento.innerHTML = perguntaAtual.pergunta; // Exibe a pergunta

      respostasElemento.innerHTML = ""; // Limpa as respostas anteriores

      // Percorre todas as respostas da pergunta atual
      for (let i = 0; i < perguntaAtual.respostas.length; i++) {
        // Pega a resposta atual com base no índice 'i'
        const resposta = perguntaAtual.respostas[i];
        // Cria um novo elemento 'button' (botão)
        const botao = document.createElement("button");
        // Adiciona a classe CSS 'botao-resposta' ao botão para estilizar
        botao.classList.add("botao-resposta");
        // Define o texto do botão com a opção de resposta (resposta.opcao)
        botao.innerText = resposta.opcao;
        // Adiciona um evento de clique no botão
        botao.onclick = function() {
          // Se a resposta for correta (resposta.correto === true), incrementa o número de acertos
          if (resposta.correto) {
            acertos++; // Incrementa o contador de acertos
          }

          // Avança para a próxima pergunta
          indiceAtual++;

          // Se ainda houver perguntas, carrega a próxima pergunta
          if (indiceAtual < perguntas.length) {
            carregarPergunta(); // Carrega a próxima pergunta
          } else {
            // Se não houver mais perguntas, finaliza o jogo
            finalizarJogo();
          }
        };

        // Adiciona o botão de resposta à tela, dentro do elemento 'respostasElemento'
        respostasElemento.appendChild(botao);
      }
    }

    // PARTE 5: Função para mostrar a tela final
    function finalizarJogo() {
      textoFinal.innerHTML = `Você acertou ${acertos} de ${perguntas.length}`; // Exibe o resultado
      conteudo.style.display = "none"; // Esconde as perguntas
      conteudoFinal.style.display = "flex"; // Mostra a tela final
    }

    // PARTE 6: Iniciando o jogo pela primeira vez
    carregarPergunta();
  </script>
</body>

</html>
